This is an example using C++ std::async and std::thread.